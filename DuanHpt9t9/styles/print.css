/* Print Styles for Construction Report */

@media print {
  /* Reset page margins and setup A4 - WYSIWYG */
  @page {
    size: A4;
    margin: 15mm;
    /* FORCE BỎ TẤT CẢ header/footer tự động */
    @top-left { content: none !important; }
    @top-center { content: none !important; }
    @top-right { content: none !important; }
    @bottom-left { content: none !important; }
    @bottom-center { content: none !important; }
    @bottom-right { content: none !important; }
    /* Bỏ page counter */
    counter-increment: none !important;
  }

  /* Hide non-printable elements */
  .no-print,
  .screen-only,
  .sidebar,
  .toolbar,
  .pagination,
  button,
  .hover\:scale-105,
  .hover\:border-blue-700,
  .hover\:shadow-lg {
    display: none !important;
    visibility: hidden !important;
  }

  /* Ensure images are visible in print */
  img {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    background: white !important;
  }

  /* Image grid container - let ImageGridEditor handle sizing */
  .image-grid-container {
    width: 100% !important;
    margin: 0 auto !important;
    page-break-inside: avoid !important;
    overflow: hidden !important;
  }

  /* Image slots - use dynamic sizing from ImageGridEditor */
  .image-slot {
    border: 1px solid #333 !important;
    page-break-inside: avoid !important;
    background: white !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
    /* Let ImageGridEditor component define dimensions */
  }

  /* Grid layout for print - use dynamic sizing */
  .image-grid-2x2 {
    display: grid !important;
    margin: 0 auto !important;
    justify-content: center !important;
    /* Let ImageGridEditor define grid-template-columns and gap */
  }

  /* Image inside slot */
  .image-slot img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    border-radius: 2px !important;
  }

  /* Text elements - FORCE WYSIWYG */
  .print-title {
    font-size: 16pt !important;
    font-weight: bold !important;
    text-align: center !important;
    margin-bottom: 10mm !important;
    color: #1d4ed8 !important; /* Blue color like web */
  }

  .print-subtitle {
    font-size: 12pt !important;
    text-align: center !important;
    margin-bottom: 8mm !important;
    color: #374151 !important; /* Gray color like web */
  }

  .print-footer {
    display: none !important; /* BỎ HOÀN TOÀN footer */
    visibility: hidden !important;
  }
  
  /* BỎ TẤT CẢ page numbers và counters */
  .page-number,
  .page-counter,
  [class*="page-"] {
    display: none !important;
    visibility: hidden !important;
  }

  /* Control page breaks - ONLY when explicitly requested */
  .page-break {
    page-break-before: always !important;
  }
  
  /* Prevent unwanted page breaks */
  .construction-report-page {
    page-break-inside: avoid !important;
    page-break-after: auto !important;
  }
  
  /* Prevent automatic page breaks on content */
  * {
    page-break-inside: auto !important;
  }
  
  /* Only break between pages when explicitly set */
  .image-grid-container,
  .print-title,
  .print-subtitle {
    page-break-inside: avoid !important;
    page-break-before: auto !important;
    page-break-after: auto !important;
  }

  /* Hide interactive elements */
  .absolute,
  .cursor-pointer,
  .transition-all,
  .hover\:border-blue-700,
  .hover\:scale-105,
  .hover\:shadow-lg {
    position: static !important;
    cursor: default !important;
    transition: none !important;
  }

  /* Remove hover states */
  *:hover {
    transform: none !important;
    box-shadow: none !important;
    border-color: inherit !important;
  }

  /* Ensure backgrounds print */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* BỎ TẤT CẢ browser-generated content */
  html::before,
  html::after,
  body::before,
  body::after {
    content: none !important;
    display: none !important;
  }
  
  /* Force clean page */
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    font-family: Arial, sans-serif !important;
  }
  
  /* Hide URL and browser info */
  @page {
    margin: 15mm !important;
  }

  /* Force image visibility */
  img[src] {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Remove borders from empty slots when printing */
  .image-slot:not(:has(img)) {
    border: 1px dashed #ccc !important;
    background: #f9f9f9 !important;
  }

  /* Placeholder text for empty slots - DISABLED to prevent extra content in PDF */
  .image-slot:not(:has(img))::after {
    content: "" !important; /* Bỏ text để tránh trang PDF thừa */
    display: none !important; /* Ẩn hoàn toàn */
  }
}

/* Print-specific classes */
.print-only {
  display: none;
}

@media print {
  .print-only {
    display: block !important;
  }
  
  .screen-only {
    display: none !important;
  }
}